{"ast":null,"code":"// api.js - API service for bug tracker\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n/**\r\n * Generic API request function\r\n * @param {string} endpoint - API endpoint\r\n * @param {object} options - Fetch options\r\n * @returns {Promise} - Response data or throws error\r\n */\nconst apiRequest = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  };\n  console.log('API Request:', config.method || 'GET', url);\n  try {\n    const response = await fetch(url, config);\n    const data = await response.json();\n    console.log('API Response:', response.status, data);\n    if (!response.ok) {\n      throw new Error(data.error || `HTTP error! status: ${response.status}`);\n    }\n    return data;\n  } catch (error) {\n    console.error('API Error:', error.message);\n    throw error;\n  }\n};\n\n/**\r\n * Get all bugs with optional filtering\r\n * @param {object} params - Query parameters\r\n * @returns {Promise} - Bugs data\r\n */\nexport const getBugs = async (params = {}) => {\n  const queryString = new URLSearchParams(params).toString();\n  const endpoint = `/bugs${queryString ? `?${queryString}` : ''}`;\n  return apiRequest(endpoint);\n};\n\n/**\r\n * Get a single bug by ID\r\n * @param {string} id - Bug ID\r\n * @returns {Promise} - Bug data\r\n */\nexport const getBug = async id => {\n  if (!id) throw new Error('Bug ID is required');\n  return apiRequest(`/bugs/${id}`);\n};\n\n/**\r\n * Create a new bug\r\n * @param {object} bugData - Bug data\r\n * @returns {Promise} - Created bug data\r\n */\nexport const createBug = async bugData => {\n  return apiRequest('/bugs', {\n    method: 'POST',\n    body: JSON.stringify(bugData)\n  });\n};\n\n/**\r\n * Update an existing bug\r\n * @param {string} id - Bug ID\r\n * @param {object} bugData - Updated bug data\r\n * @returns {Promise} - Updated bug data\r\n */\nexport const updateBug = async (id, bugData) => {\n  if (!id) throw new Error('Bug ID is required');\n  return apiRequest(`/bugs/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(bugData)\n  });\n};\n\n/**\r\n * Delete a bug\r\n * @param {string} id - Bug ID\r\n * @returns {Promise} - Success message\r\n */\nexport const deleteBug = async id => {\n  if (!id) throw new Error('Bug ID is required');\n  return apiRequest(`/bugs/${id}`, {\n    method: 'DELETE'\n  });\n};\n\n/**\r\n * Update bug status\r\n * @param {string} id - Bug ID\r\n * @param {string} status - New status\r\n * @returns {Promise} - Updated bug data\r\n */\nexport const updateBugStatus = async (id, status) => {\n  if (!id) throw new Error('Bug ID is required');\n  if (!status) throw new Error('Status is required');\n  return apiRequest(`/bugs/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify({\n      status\n    })\n  });\n};\n\n// Export default object for easier importing\nconst apiService = {\n  getBugs,\n  getBug,\n  createBug,\n  updateBug,\n  deleteBug,\n  updateBugStatus\n};\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiRequest","endpoint","options","url","config","headers","console","log","method","response","fetch","data","json","status","ok","Error","error","message","getBugs","params","queryString","URLSearchParams","toString","getBug","id","createBug","bugData","body","JSON","stringify","updateBug","deleteBug","updateBugStatus","apiService"],"sources":["C:/Users/Admin/Desktop/testing-and-debugging-ensuring-mern-app-reliability-Sundra731/client/src/services/api.js"],"sourcesContent":["// api.js - API service for bug tracker\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n/**\r\n * Generic API request function\r\n * @param {string} endpoint - API endpoint\r\n * @param {object} options - Fetch options\r\n * @returns {Promise} - Response data or throws error\r\n */\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n  const url = `${API_BASE_URL}${endpoint}`;\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers\r\n    },\r\n    ...options\r\n  };\r\n\r\n  console.log('API Request:', config.method || 'GET', url);\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n    const data = await response.json();\r\n\r\n    console.log('API Response:', response.status, data);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(data.error || `HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('API Error:', error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Get all bugs with optional filtering\r\n * @param {object} params - Query parameters\r\n * @returns {Promise} - Bugs data\r\n */\r\nexport const getBugs = async (params = {}) => {\r\n  const queryString = new URLSearchParams(params).toString();\r\n  const endpoint = `/bugs${queryString ? `?${queryString}` : ''}`;\r\n  return apiRequest(endpoint);\r\n};\r\n\r\n/**\r\n * Get a single bug by ID\r\n * @param {string} id - Bug ID\r\n * @returns {Promise} - Bug data\r\n */\r\nexport const getBug = async (id) => {\r\n  if (!id) throw new Error('Bug ID is required');\r\n  return apiRequest(`/bugs/${id}`);\r\n};\r\n\r\n/**\r\n * Create a new bug\r\n * @param {object} bugData - Bug data\r\n * @returns {Promise} - Created bug data\r\n */\r\nexport const createBug = async (bugData) => {\r\n  return apiRequest('/bugs', {\r\n    method: 'POST',\r\n    body: JSON.stringify(bugData)\r\n  });\r\n};\r\n\r\n/**\r\n * Update an existing bug\r\n * @param {string} id - Bug ID\r\n * @param {object} bugData - Updated bug data\r\n * @returns {Promise} - Updated bug data\r\n */\r\nexport const updateBug = async (id, bugData) => {\r\n  if (!id) throw new Error('Bug ID is required');\r\n  return apiRequest(`/bugs/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(bugData)\r\n  });\r\n};\r\n\r\n/**\r\n * Delete a bug\r\n * @param {string} id - Bug ID\r\n * @returns {Promise} - Success message\r\n */\r\nexport const deleteBug = async (id) => {\r\n  if (!id) throw new Error('Bug ID is required');\r\n  return apiRequest(`/bugs/${id}`, {\r\n    method: 'DELETE'\r\n  });\r\n};\r\n\r\n/**\r\n * Update bug status\r\n * @param {string} id - Bug ID\r\n * @param {string} status - New status\r\n * @returns {Promise} - Updated bug data\r\n */\r\nexport const updateBugStatus = async (id, status) => {\r\n  if (!id) throw new Error('Bug ID is required');\r\n  if (!status) throw new Error('Status is required');\r\n\r\n  return apiRequest(`/bugs/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify({ status })\r\n  });\r\n};\r\n\r\n// Export default object for easier importing\r\nconst apiService = {\r\n  getBugs,\r\n  getBug,\r\n  createBug,\r\n  updateBug,\r\n  deleteBug,\r\n  updateBugStatus\r\n};\r\n\r\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}